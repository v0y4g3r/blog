<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tokamako</title>
    <link>https://huanglei.rocks/</link>
    <description>Recent content on Tokamako</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright>
    <lastBuildDate>Wed, 09 Feb 2022 21:57:33 +0800</lastBuildDate><atom:link href="https://huanglei.rocks/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Object Safety</title>
      <link>https://huanglei.rocks/posts/object-safety/</link>
      <pubDate>Wed, 09 Feb 2022 21:57:33 +0800</pubDate>
      
      <guid>https://huanglei.rocks/posts/object-safety/</guid>
      <description>Rust 的 RFC 上只给出了 object-safety 的定义，但是没有解释为何在满足这些条件的时候 trait 是 object safe 的，以及为啥需要 object safety。下面就尝试解释一下。 ​
为什么需要 object safety？ ​
Rust 通过 trait object 提供了类型擦除、动态分派的能力，但是这个能力是有限制的，不是所有的 trait 都能自动生成实现。Trait object 本质上是对某个 trait 的自动默认实现，包括一个数据区和一个方法表。Object-safety 本质是为了保证 Rust 编译器能够为某个 trait 生成自动实现。 ​
 _Trait object 的内存布局_     Where Self Meets Sized: Revisiting Object Safety   ​
首先是关于 trait object 的，一个 trait 是对象安全的，当且仅当它满足一下所有条件：
 trait 的类型不能限定为 Self: Sized1️⃣； trait 中所定义的所有方法都是 object-safe 的2️⃣。  ​</description>
    </item>
    
    <item>
      <title>Add MathJax and Graphviz support for HUGO</title>
      <link>https://huanglei.rocks/posts/add-math-and-dot-for-hugo/</link>
      <pubDate>Sun, 12 Apr 2020 14:22:22 +0800</pubDate>
      
      <guid>https://huanglei.rocks/posts/add-math-and-dot-for-hugo/</guid>
      <description>Get into your theme folder
  Find some directory named layouts/posts/single.html
  Inside the {{ define main }} block, paste following snippets
  {{ if .Params.viz }} &amp;lt;script type=&amp;#34;text/javascript&amp;#34; src=&amp;#34;https://cdn.bootcss.com/viz.js/1.8.2/viz.js&amp;#34;&amp;gt; &amp;lt;/script&amp;gt; &amp;lt;script type=&amp;#34;text/javascript&amp;#34;&amp;gt; (function(){ var vizPrefix = &amp;#34;language-viz-&amp;#34;; Array.prototype.forEach.call(document.querySelectorAll(&amp;#34;[class^=&amp;#34; + vizPrefix + &amp;#34;]&amp;#34;), function(x){ var engine; x.getAttribute(&amp;#34;class&amp;#34;).split(&amp;#34; &amp;#34;).forEach(function(cls){ if (cls.startsWith(vizPrefix)) { engine = cls.substr(vizPrefix.length); } }); var image = new DOMParser().parseFromString(Viz(x.innerText, {format:&amp;#34;svg&amp;#34;, engine:engine}), &amp;#34;image/svg+xml&amp;#34;); x.parentNode.insertBefore(image.documentElement, x); x.</description>
    </item>
    
    <item>
      <title>About Me</title>
      <link>https://huanglei.rocks/about-me/</link>
      <pubDate>Sun, 12 Apr 2020 11:37:42 +0800</pubDate>
      
      <guid>https://huanglei.rocks/about-me/</guid>
      <description> River Drina, border between Bosnia-Herzegovina and Serbia
 Full-time coder, part-time photographer @HANGZHOU.
 PEK/PVG/SHA/SZX/HGH/NKG NRT SIN SGN CDG/ORY MAD/BCN SVO/LED KBP/ODS BEG REP  </description>
    </item>
    
    <item>
      <title>Graphviz and mathjax demo</title>
      <link>https://huanglei.rocks/posts/math-and-dot-demo/</link>
      <pubDate>Sat, 11 Apr 2020 23:26:41 +0800</pubDate>
      
      <guid>https://huanglei.rocks/posts/math-and-dot-demo/</guid>
      <description>digraph g{ rankdir=LR; node [shape=record,width=01,height=.1]; a[label=&amp;quot;&amp;lt;1&amp;gt;Hash Table|&amp;lt;2&amp;gt;Node|&amp;lt;3&amp;gt;Node|...|&amp;lt;4&amp;gt;TreeNode&amp;quot;]; { // graph[rankdir=LR] node1[label=&amp;quot;{&amp;lt;1&amp;gt;A1|&amp;lt;2&amp;gt;A2|...|An}&amp;quot;] node2[label=&amp;quot;{&amp;lt;1&amp;gt;B1|&amp;lt;2&amp;gt;B2|...|Bn}&amp;quot;] // node3[label=&amp;quot;{&amp;lt;1&amp;gt;C1|&amp;lt;2&amp;gt;C2}&amp;quot;] subgraph cluster_treenode{ penwidth=0; node[shape=circle]; root[label=&amp;quot;&amp;quot;, style=filled,fillcolor=black,width=.2]; n1[label=&amp;quot;&amp;quot;, style=filled,fillcolor=red,width=.2] n2[label=&amp;quot;&amp;quot;, style=filled,fillcolor=black,width=.2] n3[label=&amp;quot;&amp;quot;, style=filled,fillcolor=black,width=.2] n4[label=&amp;quot;&amp;quot;, style=filled,fillcolor=red,width=.2] n5[label=&amp;quot;&amp;quot;, style=filled,fillcolor=black,width=.2] n6[label=&amp;quot;&amp;quot;, style=filled,fillcolor=black,width=.2] root-&amp;gt;n1; n1-&amp;gt;n2; n1-&amp;gt;n3; root-&amp;gt;n4; n4-&amp;gt;n5; n4-&amp;gt;n6; } } a:2:e-&amp;gt;node1:1 [style=dashed]; a:3:e-&amp;gt;node2:1; a:4:e-&amp;gt;root; // node3:d-&amp;gt;node3:sa2; } $$f(a) = \frac{1}{2\pi i} \oint\frac{f(z)}{z-a}dz$$</description>
    </item>
    
    <item>
      <title>April 2020</title>
      <link>https://huanglei.rocks/gallery/2020/</link>
      <pubDate>Sat, 04 Apr 2020 12:00:00 +0800</pubDate>
      
      <guid>https://huanglei.rocks/gallery/2020/</guid>
      <description>Longjing Village, Hangzhou, 04/Apr/2020 Spring Afternoon, Hangzhou, 11/Apr/2020 Xixi National Wetland Park, Hangzhou, 11/Apr/2020 </description>
    </item>
    
    <item>
      <title>2019</title>
      <link>https://huanglei.rocks/gallery/2019/</link>
      <pubDate>Tue, 31 Dec 2019 23:59:59 +0800</pubDate>
      
      <guid>https://huanglei.rocks/gallery/2019/</guid>
      <description>Temple, Qiyun Moutain, Anhui Sunset, Shenzhen </description>
    </item>
    
  </channel>
</rss>
